{"version":3,"sources":["api/posts.js","components/PostsList/PostsList.jsx","api/comments.js","components/NewCommentForm/NewCommentForm.jsx","components/PostDetails/PostDetails.jsx","App.jsx","index.js"],"names":["POSTS_URL","request","path","a","fetch","response","json","result","data","PostsList","posts","setSelectedPost","selectedPost","className","map","post","key","id","userId","title","type","onClick","options","NewCommentForm","loadPostComments","useState","newCommentName","setNewCommentName","newCommentEmail","setNewCommentEmail","newCommentBody","setNewCommentBody","sendData","postId","name","email","body","method","JSON","stringify","then","onSubmit","event","preventDefault","placeholder","value","onChange","target","PostDetails","postDetails","setPostDetails","commentData","setCommentData","hideComments","setHideComments","commentsFromServer","filter","comment","useEffect","postFromServer","length","commentId","App","allPosts","setAllPosts","selectedUser","setSelectedUser","postsFromServer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c91bd14a.chunk.js","sourcesContent":["const POSTS_URL = 'https://mate-api.herokuapp.com/';\n\nasync function request(path) {\n  const response = await fetch(`${POSTS_URL}${path}`);\n  const result = await response.json();\n\n  return result.data;\n}\n\nexport function getUserPosts() {\n  return request(`posts`);\n}\n\nexport function getPostDetails(postId) {\n  return request(`posts/${postId}`);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './PostsList.scss';\n\nexport const PostsList = ({\n  posts,\n  setSelectedPost,\n  selectedPost,\n}) => (\n  <div className=\"PostsList\">\n    <h2>Posts:</h2>\n    <ul className=\"PostsList__list\">\n      {posts.map(post => (\n        <li className=\"PostsList__item\" key={post.id}>\n          <div>\n            <b>\n              {`[User #${post.userId}]:`}\n            </b>\n            {post.title}\n          </div>\n          <button\n            type=\"button\"\n            className=\"PostsList__button button\"\n            onClick={() => {\n              if (selectedPost !== post.id) {\n                setSelectedPost(post.id);\n              } else {\n                setSelectedPost(0);\n              }\n            }}\n          >\n            {selectedPost === post.id ? 'Close' : 'Open'}\n          </button>\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nPostsList.propTypes = {\n  posts: PropTypes.arrayOf(PropTypes.shape({\n    userId: PropTypes.number.isRequired,\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    body: PropTypes.string.isRequired,\n  })).isRequired,\n  setSelectedPost: PropTypes.func.isRequired,\n  selectedPost: PropTypes.number.isRequired,\n};\n","\nconst COMMENTS_URL = 'https://mate-api.herokuapp.com/';\n\nasync function request(path, options) {\n  const response = await fetch(`${COMMENTS_URL}${path}`, options);\n  const result = await response.json();\n\n  return result.data;\n}\n\nexport function getPostComments() {\n  return request(`comments`);\n}\n\nexport function deleteComment(commentId) {\n  return request(`comments/${commentId}`, {\n    method: 'DELETE',\n  });\n}\n\nexport function addComment(postId, name, email, body) {\n  return request('comments', {\n    method: 'POST',\n    body: JSON.stringify({\n      postId,\n      name,\n      email,\n      body,\n    }),\n  });\n}\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './NewCommentForm.scss';\nimport { addComment } from '../../api/comments';\n\nexport const NewCommentForm = ({ selectedPost, loadPostComments }) => {\n  const [newCommentName, setNewCommentName] = useState('');\n  const [newCommentEmail, setNewCommentEmail] = useState('');\n  const [newCommentBody, setNewCommentBody] = useState('');\n\n  function sendData() {\n    (newCommentName && newCommentEmail && newCommentBody)\n      && addComment(\n        selectedPost,\n        newCommentName,\n        newCommentEmail,\n        newCommentBody,\n      ).then(loadPostComments);\n\n    setNewCommentName('');\n    setNewCommentEmail('');\n    setNewCommentBody('');\n  }\n\n  return (\n    <form\n      className=\"NewCommentForm\"\n      onSubmit={(event) => {\n        event.preventDefault();\n        sendData();\n      }}\n    >\n      <div className=\"form-field\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Your name\"\n          className=\"NewCommentForm__input\"\n          value={newCommentName}\n          onChange={({ target }) => setNewCommentName(target.value)}\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <input\n          type=\"text\"\n          name=\"email\"\n          placeholder=\"Your email\"\n          className=\"NewCommentForm__input\"\n          value={newCommentEmail}\n          onChange={({ target }) => setNewCommentEmail(target.value)}\n        />\n      </div>\n\n      <div className=\"form-field\">\n        <textarea\n          name=\"body\"\n          placeholder=\"Type comment here\"\n          className=\"NewCommentForm__input\"\n          value={newCommentBody}\n          onChange={({ target }) => setNewCommentBody(target.value)}\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        className=\"NewCommentForm__submit-button button\"\n      >\n        Add a comment\n      </button>\n    </form>\n  );\n};\n\nNewCommentForm.propTypes = {\n  loadPostComments: PropTypes.func.isRequired,\n  selectedPost: PropTypes.number.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { NewCommentForm } from '../NewCommentForm';\nimport { getPostDetails } from '../../api/posts';\nimport { getPostComments, deleteComment } from '../../api/comments';\nimport './PostDetails.scss';\n\nexport const PostDetails = ({ selectedPost }) => {\n  const [postDetails, setPostDetails] = useState([]);\n  const [commentData, setCommentData] = useState([]);\n  const [hideComments, setHideComments] = useState(true);\n\n  function loadPostComments() {\n    getPostComments()\n      .then(commentsFromServer => setCommentData(commentsFromServer\n        .filter(comment => comment.postId === selectedPost)));\n  }\n\n  useEffect(() => {\n    getPostDetails(selectedPost)\n      .then((postFromServer) => {\n        if (selectedPost) {\n          setPostDetails(postFromServer);\n        }\n      });\n    loadPostComments();\n  }, [selectedPost]);\n\n  return (\n\n    <div className=\"PostDetails\">\n      <h2>Post details:</h2>\n\n      <section className=\"PostDetails__post\">\n        <h3>{postDetails.title}</h3>\n        <p>{postDetails.body}</p>\n      </section>\n\n      <section className=\"PostDetails__comments\">\n        <button\n          type=\"button\"\n          className=\"button\"\n          onClick={() => {\n            setHideComments(!hideComments);\n          }}\n        >\n          {`Hide ${commentData.length} comments`}\n        </button>\n        {hideComments && (\n          <>\n            <ul className=\"PostDetails__list\">\n              {commentData.map(comment => (\n                <li className=\"PostDetails__list-item\" key={comment.id}>\n                  <button\n                    type=\"button\"\n                    className=\"PostDetails__remove-button button\"\n                    onClick={() => {\n                      deleteComment(comment.id)\n                        .then(loadPostComments);\n                    }}\n                  >\n                    X\n                  </button>\n                  <p>{comment.body}</p>\n                </li>\n              ))}\n            </ul>\n          </>\n        )}\n      </section>\n\n      <section>\n        <div className=\"PostDetails__form-wrapper\">\n          <NewCommentForm\n            selectedPost={selectedPost}\n            loadPostComments={loadPostComments}\n          />\n        </div>\n      </section>\n    </div>\n  );\n};\n\nPostDetails.propTypes = {\n  selectedPost: PropTypes.number.isRequired,\n};\n","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\n\nimport { getUserPosts } from './api/posts';\nimport { PostsList } from './components/PostsList';\nimport { PostDetails } from './components/PostDetails';\n\nconst App = () => {\n  const [allPosts, setAllPosts] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(0);\n  const [selectedPost, setSelectedPost] = useState(0);\n\n  useEffect(() => {\n    getUserPosts()\n      .then((postsFromServer) => {\n        if (selectedUser) {\n          setAllPosts(postsFromServer\n            .filter(post => post.userId === selectedUser));\n        } else {\n          setAllPosts(postsFromServer);\n        }\n      });\n  }, [selectedUser]);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App__header\">\n        <label>\n          Select a user: &nbsp;\n\n          <select\n            className=\"App__user-selector\"\n            onChange={({ target }) => setSelectedUser(+target.value)}\n          >\n            <option value=\"0\">All users</option>\n            <option value=\"1\">Leanne Graham</option>\n            <option value=\"2\">Ervin Howell</option>\n            <option value=\"3\">Clementine Bauch</option>\n            <option value=\"4\">Patricia Lebsack</option>\n            <option value=\"5\">Chelsey Dietrich</option>\n            <option value=\"6\">Mrs. Dennis Schulist</option>\n            <option value=\"7\">Kurtis Weissnat</option>\n            <option value=\"8\">Nicholas Runolfsdottir V</option>\n            <option value=\"9\">Glenna Reichert</option>\n            <option value=\"10\">Leanne Graham</option>\n          </select>\n        </label>\n      </header>\n\n      <main className=\"App__main\">\n        <div className=\"App__sidebar\">\n          <PostsList\n            posts={allPosts}\n            setSelectedPost={setSelectedPost}\n            selectedPost={selectedPost}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          { (selectedPost)\n          && <PostDetails selectedPost={selectedPost} />}\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}